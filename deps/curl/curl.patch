diff -ruN curl-7.64.0/lib/config-win32.h curl-7.64.0-mod/lib/config-win32.h
--- curl-7.64.0/lib/config-win32.h	2018-12-17 15:03:06.000000000 +0800
+++ curl-7.64.0-mod/lib/config-win32.h	2019-04-27 10:00:19.000000000 +0800
@@ -740,4 +740,6 @@
 #  define ENABLE_IPV6 1
 #endif
 
+#define HTTP_ONLY
+
 #endif /* HEADER_CURL_CONFIG_WIN32_H */
diff -ruN curl-7.64.0/lib/slist.c curl-7.64.0-mod/lib/slist.c
--- curl-7.64.0/lib/slist.c	2018-11-22 06:48:11.000000000 +0800
+++ curl-7.64.0-mod/lib/slist.c	2019-04-27 12:42:46.000000000 +0800
@@ -23,6 +23,7 @@
 #include "curl_setup.h"
 
 #include <curl/curl.h>
+#include <string.h>
 
 #include "slist.h"
 
@@ -47,6 +48,35 @@
   return item;
 }
 
+/* returns existing node with same name as the header in data in linked list */
+static struct curl_slist *slist_get_existing(struct curl_slist *list, char *data,
+                                             struct curl_slist **last)
+{
+  struct curl_slist     *item;
+  struct curl_slist     *prev;
+  char *colon;
+
+  /* if caller passed us a NULL, return now */
+  if(!list)
+    return NULL;
+
+  colon = strchr(data, ':');
+  if (!colon)
+      return NULL;
+
+  /* loop through to find the item */
+  item = list;
+  prev = NULL;
+  while(item) {
+    if (!strncmp(item->data, data, colon - data + 2))
+        return item;
+    prev = item;
+    item = item->next;
+  }
+  *last = prev;
+  return NULL;
+}
+
 /*
  * Curl_slist_append_nodup() appends a string to the linked list. Rather than
  * copying the string in dynamic storage, it takes its ownership. The string
@@ -60,9 +90,17 @@
 {
   struct curl_slist     *last;
   struct curl_slist     *new_item;
+  struct curl_slist     *existing;
 
   DEBUGASSERT(data);
 
+  existing = slist_get_existing(list, data, &last);
+  if (existing) {
+      free(existing->data);
+      existing->data = data;
+      return list;
+  }
+
   new_item = malloc(sizeof(struct curl_slist));
   if(!new_item)
     return NULL;
@@ -74,7 +112,6 @@
   if(!list)
     return new_item;
 
-  last = slist_get_last(list);
   last->next = new_item;
   return list;
 }
diff -ruN curl-7.64.0/winbuild/Makefile.vc curl-7.64.0-mod/winbuild/Makefile.vc
--- curl-7.64.0/winbuild/Makefile.vc	2018-10-27 18:00:54.000000000 +0800
+++ curl-7.64.0-mod/winbuild/Makefile.vc	2019-04-27 10:00:19.000000000 +0800
@@ -198,55 +198,55 @@
 SSH2     = static
 !ENDIF
 
-CONFIG_NAME_LIB = $(CONFIG_NAME_LIB)-vc$(VC)-$(MACHINE)
+#CONFIG_NAME_LIB = $(CONFIG_NAME_LIB)-vc$(VC)-$(MACHINE)
 
-!IF "$(DEBUG)"=="yes"
-CONFIG_NAME_LIB = $(CONFIG_NAME_LIB)-debug
-!ELSE
-CONFIG_NAME_LIB = $(CONFIG_NAME_LIB)-release
-!ENDIF
-
-!IF "$(AS_DLL)"=="true"
-CONFIG_NAME_LIB = $(CONFIG_NAME_LIB)-dll
-!ELSE
-CONFIG_NAME_LIB = $(CONFIG_NAME_LIB)-static
-!ENDIF
-
-!IF "$(USE_SSL)"=="true"
-CONFIG_NAME_LIB = $(CONFIG_NAME_LIB)-ssl-$(SSL)
-!ENDIF
-
-!IF "$(USE_MBEDTLS)"=="true"
-CONFIG_NAME_LIB = $(CONFIG_NAME_LIB)-mbedtls-$(MBEDTLS)
-!ENDIF
-
-!IF "$(USE_CARES)"=="true"
-CONFIG_NAME_LIB = $(CONFIG_NAME_LIB)-cares-$(CARES)
-!ENDIF
-
-!IF "$(USE_ZLIB)"=="true"
-CONFIG_NAME_LIB = $(CONFIG_NAME_LIB)-zlib-$(ZLIB)
-!ENDIF
-
-!IF "$(USE_SSH2)"=="true"
-CONFIG_NAME_LIB = $(CONFIG_NAME_LIB)-ssh2-$(SSH2)
-!ENDIF
-
-!IF "$(USE_IPV6)"=="true"
-CONFIG_NAME_LIB = $(CONFIG_NAME_LIB)-ipv6
-!ENDIF
-
-!IF "$(USE_SSPI)"=="true"
-CONFIG_NAME_LIB = $(CONFIG_NAME_LIB)-sspi
-!ENDIF
-
-!IF "$(USE_WINSSL)"=="true"
-CONFIG_NAME_LIB = $(CONFIG_NAME_LIB)-winssl
-!ENDIF
-
-!IF "$(USE_NGHTTP2)"=="true"
-CONFIG_NAME_LIB = $(CONFIG_NAME_LIB)-nghttp2-$(NGHTTP2)
-!ENDIF
+#!IF "$(DEBUG)"=="yes"
+#CONFIG_NAME_LIB = $(CONFIG_NAME_LIB)-debug
+#!ELSE
+#CONFIG_NAME_LIB = $(CONFIG_NAME_LIB)-release
+#!ENDIF
+
+#!IF "$(AS_DLL)"=="true"
+#CONFIG_NAME_LIB = $(CONFIG_NAME_LIB)-dll
+#!ELSE
+#CONFIG_NAME_LIB = $(CONFIG_NAME_LIB)-static
+#!ENDIF
+
+#!IF "$(USE_SSL)"=="true"
+#CONFIG_NAME_LIB = $(CONFIG_NAME_LIB)-ssl-$(SSL)
+#!ENDIF
+
+#!IF "$(USE_MBEDTLS)"=="true"
+#CONFIG_NAME_LIB = $(CONFIG_NAME_LIB)-mbedtls-$(MBEDTLS)
+#!ENDIF
+
+#!IF "$(USE_CARES)"=="true"
+#CONFIG_NAME_LIB = $(CONFIG_NAME_LIB)-cares-$(CARES)
+#!ENDIF
+
+#!IF "$(USE_ZLIB)"=="true"
+#CONFIG_NAME_LIB = $(CONFIG_NAME_LIB)-zlib-$(ZLIB)
+#!ENDIF
+
+#!IF "$(USE_SSH2)"=="true"
+#CONFIG_NAME_LIB = $(CONFIG_NAME_LIB)-ssh2-$(SSH2)
+#!ENDIF
+
+#!IF "$(USE_IPV6)"=="true"
+#CONFIG_NAME_LIB = $(CONFIG_NAME_LIB)-ipv6
+#!ENDIF
+
+#!IF "$(USE_SSPI)"=="true"
+#CONFIG_NAME_LIB = $(CONFIG_NAME_LIB)-sspi
+#!ENDIF
+
+#!IF "$(USE_WINSSL)"=="true"
+#CONFIG_NAME_LIB = $(CONFIG_NAME_LIB)-winssl
+#!ENDIF
+
+#!IF "$(USE_NGHTTP2)"=="true"
+#CONFIG_NAME_LIB = $(CONFIG_NAME_LIB)-nghttp2-$(NGHTTP2)
+#!ENDIF
 
 !MESSAGE configuration name: $(CONFIG_NAME_LIB)
 
diff -ruN curl-7.64.0/winbuild/MakefileBuild.vc curl-7.64.0-mod/winbuild/MakefileBuild.vc
--- curl-7.64.0/winbuild/MakefileBuild.vc	2019-02-05 22:00:12.000000000 +0800
+++ curl-7.64.0-mod/winbuild/MakefileBuild.vc	2019-04-27 10:00:19.000000000 +0800
@@ -502,7 +502,7 @@
 
 EXE_OBJS = $(CURL_OBJS) $(CURL_DIROBJ)\curl.res
 
-all : $(TARGET) $(PROGRAM_NAME)
+all : $(TARGET)
 
 package: $(TARGET)
 	@cd $(DIRDIST)
